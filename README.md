# ğŸš€ OpenAI Team Auto Provisioner

<div align="center">

**OpenAI Team è´¦å·è‡ªåŠ¨æ‰¹é‡æ³¨å†Œ & æˆæƒå…¥åº“å·¥å…·**

[![Python](https://img.shields.io/badge/Python-3.12+-blue.svg)](https://www.python.org/)
[![DrissionPage](https://img.shields.io/badge/DrissionPage-4.1+-green.svg)](https://drissionpage.cn/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

</div>

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ”„ **å…¨è‡ªåŠ¨åŒ–æµç¨‹** - ä»é‚®ç®±åˆ›å»ºåˆ°æˆæƒå…¥åº“ä¸€é”®å®Œæˆ
- ğŸ“§ **å¤šé‚®ç®±ç³»ç»Ÿæ”¯æŒ** - æ”¯æŒ Cloud Mail è‡ªå»ºé‚®ç®±å’Œ GPTMail ä¸´æ—¶é‚®ç®±
- ğŸ‘¥ **Team æ‰¹é‡é‚€è¯·** - ä¸€æ¬¡æ€§é‚€è¯·å¤šä¸ªè´¦å·åˆ° Team
- ğŸŒ **æµè§ˆå™¨è‡ªåŠ¨åŒ–** - åŸºäº DrissionPage çš„æ™ºèƒ½æ³¨å†Œ
- ğŸ” **å¤šæˆæƒæœåŠ¡æ”¯æŒ** - æ”¯æŒ CRS / CPA / S2A ä¸‰ç§æˆæƒå…¥åº“æ–¹å¼
- ğŸ’¾ **æ–­ç‚¹ç»­ä¼ ** - æ”¯æŒä¸­æ–­æ¢å¤ï¼Œé¿å…é‡å¤æ“ä½œ
- ğŸ“Š **çŠ¶æ€è¿½è¸ª** - è¯¦ç»†çš„è´¦å·çŠ¶æ€è®°å½•ä¸è¿½è¸ª
- ğŸŒ **ä»£ç†è½®æ¢** - æ”¯æŒå¤šä»£ç†é…ç½®å’Œè‡ªåŠ¨è½®æ¢
- ğŸ­ **æµè§ˆå™¨æŒ‡çº¹** - éšæœºæµè§ˆå™¨æŒ‡çº¹é˜²æ£€æµ‹

---

## ğŸ“‹ å‰ç½®è¦æ±‚

- Python 3.12+
- [uv](https://github.com/astral-sh/uv) (æ¨è) æˆ– pip
- Chrome æµè§ˆå™¨
- é‚®ç®±æœåŠ¡ API
- æˆæƒæœåŠ¡ API (CRS / CPA / S2A ä»»é€‰å…¶ä¸€)

---

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨ uv (æ¨è)
uv sync

# æˆ–ä½¿ç”¨ pip
pip install -r requirements.txt
```

### 2. é…ç½®æ–‡ä»¶

```bash
# å¤åˆ¶é…ç½®æ¨¡æ¿
cp config.toml.example config.toml
cp team.json.example team.json
```

### 3. ç¼–è¾‘é…ç½®

#### `config.toml` - ä¸»é…ç½®æ–‡ä»¶

```toml
# ==================== æœåŠ¡é€‰æ‹© ====================
# é‚®ç®±ç³»ç»Ÿ: "cloudmail" (è‡ªå»ºé‚®ç®±) æˆ– "gptmail" (ä¸´æ—¶é‚®ç®±)
email_provider = "gptmail"

# æˆæƒæœåŠ¡: "crs" / "cpa" / "s2a"
auth_provider = "cpa"

# æ˜¯å¦å°† Team Owner ä¹Ÿæ·»åŠ åˆ°æˆæƒæœåŠ¡å…¥åº“
# - true: Owner è´¦å·ä¹Ÿä¼šè¿›è¡Œæˆæƒå¹¶å…¥åº“ (éœ€è¦ Owner é‚®ç®±èƒ½æ¥æ”¶éªŒè¯ç )
# - false: ä»…å¤„ç†é‚€è¯·çš„æˆå‘˜è´¦å·ï¼ŒOwner ä¸å…¥åº“
include_team_owners = false

# ==================== é‚®ç®±æœåŠ¡é…ç½® ====================
# Cloud Mail é‚®ç®±æœåŠ¡ (email_provider = "cloudmail" æ—¶ä½¿ç”¨)
[email]
api_base = "https://your-email-service.com/api/public"
api_auth = "your-api-auth-token"
domains = ["domain1.com", "domain2.com"]
role = "gpt-team"
web_url = "https://your-email-service.com"

# GPTMail ä¸´æ—¶é‚®ç®± (email_provider = "gptmail" æ—¶ä½¿ç”¨)
[gptmail]
api_base = "https://mail.chatgpt.org.uk"
api_key = "gpt-test"
prefix = ""        # é‚®ç®±å‰ç¼€ï¼Œç•™ç©ºè‡ªåŠ¨ç”Ÿæˆ
domains = []       # å¯ç”¨åŸŸååˆ—è¡¨ï¼Œç•™ç©ºä½¿ç”¨é»˜è®¤

# ==================== æˆæƒæœåŠ¡é…ç½® ====================
# CRS æœåŠ¡é…ç½® (auth_provider = "crs" æ—¶ä½¿ç”¨)
[crs]
api_base = "https://your-crs-service.com"
admin_token = "your-admin-token"

# CPA æœåŠ¡ (auth_provider = "cpa" æ—¶ä½¿ç”¨)
[cpa]
api_base = "http://your-cpa-service:8317"
admin_password = "your-admin-password"
poll_interval = 2       # è½®è¯¢é—´éš” (ç§’)
poll_max_retries = 30   # æœ€å¤§é‡è¯•æ¬¡æ•°
is_webui = true

# S2A æœåŠ¡ (auth_provider = "s2a" æ—¶ä½¿ç”¨)
[s2a]
api_base = "https://your-sub2api-service.com/api/v1"
admin_key = "your-admin-api-key"   # Admin API Key (æ¨è)
admin_token = ""                    # JWT Token (å¤‡é€‰)
concurrency = 10                    # è´¦å·å¹¶å‘æ•°
priority = 50                       # è´¦å·ä¼˜å…ˆçº§
group_ids = []                      # åˆ†ç»„ ID åˆ—è¡¨
group_names = ["codex"]             # åˆ†ç»„åç§°åˆ—è¡¨ (è‡ªåŠ¨è§£æä¸º ID)

# ==================== è´¦å·é…ç½® ====================
[account]
default_password = "YourSecurePassword@2025"
accounts_per_team = 4

# ==================== æµè§ˆå™¨é…ç½® ====================
[browser]
wait_timeout = 60
short_wait = 10
headless = false  # æ— å¤´æ¨¡å¼

# ==================== ä»£ç†é…ç½® (å¯é€‰) ====================
proxy_enabled = false

# [[proxies]]
# type = "socks5"
# host = "127.0.0.1"
# port = 1080

# æ›´å¤šé…ç½®é¡¹è¯·å‚è€ƒ config.toml.example
```

#### `team.json` - Team å‡­è¯é…ç½®

> ğŸ’¡ é€šè¿‡è®¿é—® `https://chatgpt.com/api/auth/session` è·å–ï¼ˆéœ€å…ˆç™»å½• ChatGPTï¼‰

**æ ¼å¼ 1: æ—§æ ¼å¼ (å®Œæ•´ Session)**
```json
[
  {
    "user": { "email": "team-admin@example.com" },
    "account": {
      "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
      "organizationId": "org-xxxxxxxxxxxxxxxxxxxxxxxx"
    },
    "accessToken": "eyJhbGciOiJSUzI1NiIs..."
  }
]
```

> âš ï¸ **æ³¨æ„**: æ ¼å¼ 1 çš„ Team Owner é‚®ç®±å¿…é¡»æ˜¯è‡ªå·±å¯æ§çš„åŸŸåé‚®ç®±ï¼Œæ‰èƒ½æ¥æ”¶éªŒè¯ç å®Œæˆæˆæƒå…¥åº“ã€‚å¦‚æœæ˜¯ç¬¬ä¸‰æ–¹é‚®ç®±ï¼ˆå¦‚ Gmailï¼‰ï¼ŒOwner è´¦å·æ— æ³•å…¥åº“ï¼Œåªèƒ½é‚€è¯·æˆå‘˜è´¦å·ã€‚

**æ ¼å¼ 2: æ–°æ ¼å¼ (é‚®ç®±å¯†ç  + Token)**
```json
[
  {
    "account": "team-admin@example.com",
    "password": "your-password",
    "token": "eyJhbGciOiJSUzI1NiIs..."
  }
]
```

**æ ¼å¼ 3: æ–°æ ¼å¼ (ä»…é‚®ç®±å¯†ç ï¼Œè‡ªåŠ¨ç™»å½•è·å– Token)**
```json
[
  {
    "account": "team-admin@example.com",
    "password": "your-password"
  }
]
```

> ğŸ’¡ æ ¼å¼ 3 æ— éœ€æä¾› Tokenï¼Œç¨‹åºä¼šè‡ªåŠ¨ç™»å½•è·å–å¹¶ä¿å­˜åˆ°é…ç½®æ–‡ä»¶

#### ä¸‰ç§æ ¼å¼çš„å¤„ç†ç­–ç•¥

| æ ¼å¼ | Owner æˆæƒå…¥åº“ | æˆå‘˜é‚€è¯· | Token è·å– | é€‚ç”¨åœºæ™¯ |
|:---:|:---:|:---:|:---:|------|
| **æ ¼å¼ 1** | âš ï¸ éœ€è‡ªæœ‰åŸŸåé‚®ç®± | âœ… æ”¯æŒ | æ‰‹åŠ¨æä¾› | å·²æœ‰ Sessionï¼ŒOwner ç”¨ç¬¬ä¸‰æ–¹é‚®ç®± |
| **æ ¼å¼ 2** | âœ… æ”¯æŒ | âœ… æ”¯æŒ | æ‰‹åŠ¨æä¾› | å·²æœ‰ Tokenï¼ŒOwner å¯æ¥æ”¶éªŒè¯ç  |
| **æ ¼å¼ 3** | âœ… æ”¯æŒ | âœ… æ”¯æŒ | è‡ªåŠ¨ç™»å½• | æœ€ç®€é…ç½®ï¼ŒOwner å¯æ¥æ”¶éªŒè¯ç  |

**è¯¦ç»†è¯´æ˜ï¼š**

- **æ ¼å¼ 1 (æ—§æ ¼å¼)**: ç›´æ¥ä½¿ç”¨ ChatGPT Sessionï¼ŒOwner ä½¿ç”¨ OTP éªŒè¯ç ç™»å½•æˆæƒã€‚å¦‚æœ Owner é‚®ç®±æ˜¯ Gmail ç­‰ç¬¬ä¸‰æ–¹é‚®ç®±ï¼Œæ— æ³•æ¥æ”¶éªŒè¯ç ï¼Œåˆ™ Owner è´¦å·ä¸ä¼šå…¥åº“ï¼Œä»…é‚€è¯·æˆå‘˜è´¦å·ã€‚

- **æ ¼å¼ 2 (æ–°æ ¼å¼ + Token)**: æä¾›é‚®ç®±å¯†ç å’Œ Tokenï¼ŒOwner ä½¿ç”¨å¯†ç ç™»å½•è¿›è¡Œæˆæƒã€‚é€‚åˆå·²ç»æœ‰ Token ä¸” Owner é‚®ç®±å¯æ¥æ”¶éªŒè¯ç çš„åœºæ™¯ã€‚

- **æ ¼å¼ 3 (æ–°æ ¼å¼ æ—  Token)**: ä»…æä¾›é‚®ç®±å¯†ç ï¼Œç¨‹åºä¼šå…ˆè‡ªåŠ¨ç™»å½•è·å– Token å¹¶ä¿å­˜ï¼Œç„¶åè¿›è¡Œåç»­æµç¨‹ã€‚æœ€ç®€å•çš„é…ç½®æ–¹å¼ï¼Œæ¨èä½¿ç”¨ã€‚

### 4. è¿è¡Œ

```bash
# è¿è¡Œæ‰€æœ‰ Team
uv run python run.py

# å•ä¸ª Team æ¨¡å¼
uv run python run.py single 0

# æµ‹è¯•æ¨¡å¼ (ä»…åˆ›å»ºé‚®ç®±å’Œé‚€è¯·)
uv run python run.py test

# æŸ¥çœ‹çŠ¶æ€
uv run python run.py status
```

---

## ğŸ” æˆæƒæœåŠ¡è¯´æ˜

æœ¬é¡¹ç›®æ”¯æŒä¸‰ç§æˆæƒå…¥åº“æœåŠ¡ï¼Œé€šè¿‡ `auth_provider` é…ç½®é€‰æ‹©ï¼š

| æœåŠ¡ | è¯´æ˜ | ç‰¹ç‚¹ |
|:---:|------|------|
| **CRS** | Claude Relay Service | éœ€æ‰‹åŠ¨æ·»åŠ è´¦å·ï¼Œæ”¯æŒ Token ç®¡ç† |
| **CPA** | Codex/Copilot Authorization | åå°è‡ªåŠ¨å¤„ç†ï¼Œè½®è¯¢æˆæƒçŠ¶æ€ |
| **S2A** | Sub2API | æ”¯æŒ OAuth æˆæƒï¼Œè‡ªåŠ¨å…¥åº“ï¼Œæ”¯æŒåˆ†ç»„ |

### CRS é…ç½®

```toml
auth_provider = "crs"

[crs]
api_base = "https://your-crs-service.com"
admin_token = "your-admin-token"
```

### CPA é…ç½®

```toml
auth_provider = "cpa"

[cpa]
api_base = "http://your-cpa-service:8317"
admin_password = "your-admin-password"
poll_interval = 2
poll_max_retries = 30
is_webui = true
```

### S2A é…ç½®

```toml
auth_provider = "s2a"

[s2a]
api_base = "https://your-sub2api-service.com/api/v1"
# è®¤è¯æ–¹å¼äºŒé€‰ä¸€ (ä¼˜å…ˆä½¿ç”¨ admin_key)
admin_key = "your-admin-api-key"
admin_token = ""
# è´¦å·é…ç½®
concurrency = 10
priority = 50
# åˆ†ç»„é…ç½® (äºŒé€‰ä¸€)
group_ids = []
group_names = ["codex"]
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
oai-team-auto-provisioner/
â”‚
â”œâ”€â”€ ğŸš€ run.py                 # ä¸»å…¥å£è„šæœ¬
â”œâ”€â”€ âš™ï¸  config.py              # é…ç½®åŠ è½½æ¨¡å—
â”‚
â”œâ”€â”€ ğŸ“§ email_service.py       # é‚®ç®±æœåŠ¡ (åˆ›å»ºç”¨æˆ·ã€è·å–éªŒè¯ç )
â”œâ”€â”€ ğŸ‘¥ team_service.py        # Team æœåŠ¡ (é‚€è¯·ç®¡ç†)
â”œâ”€â”€ ğŸŒ browser_automation.py  # æµè§ˆå™¨è‡ªåŠ¨åŒ– (æ³¨å†Œæµç¨‹)
â”‚
â”œâ”€â”€ ğŸ” æˆæƒæœåŠ¡æ¨¡å—
â”‚   â”œâ”€â”€ crs_service.py        # CRS æœåŠ¡
â”‚   â”œâ”€â”€ cpa_service.py        # CPA æœåŠ¡
â”‚   â””â”€â”€ s2a_service.py        # S2A (Sub2API) æœåŠ¡
â”‚
â”œâ”€â”€ ğŸ› ï¸  utils.py               # å·¥å…·å‡½æ•° (CSVã€çŠ¶æ€è¿½è¸ª)
â”œâ”€â”€ ğŸ“Š logger.py              # æ—¥å¿—æ¨¡å—
â”‚
â”œâ”€â”€ ğŸ“ config.toml.example    # é…ç½®æ¨¡æ¿
â”œâ”€â”€ ğŸ”‘ team.json.example      # Team å‡­è¯æ¨¡æ¿
â”‚
â”œâ”€â”€ ğŸ“‚ logs/                  # æ—¥å¿—ç›®å½•
â”‚   â””â”€â”€ app.log               # è¿è¡Œæ—¥å¿— (è‡ªåŠ¨è½®è½¬)
â”‚
â””â”€â”€ ğŸ“‚ è‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶
    â”œâ”€â”€ accounts.csv          # è´¦å·è®°å½•
    â”œâ”€â”€ team_tracker.json     # çŠ¶æ€è¿½è¸ª
    â””â”€â”€ domain_blacklist.json # åŸŸåé»‘åå•
```

---

## ğŸ”„ å·¥ä½œæµç¨‹

### æ•´ä½“æµç¨‹å›¾

```
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   ğŸš€ python run.py   â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  ğŸ“‹ åŠ è½½é…ç½®æ–‡ä»¶      â”‚
                        â”‚  config.toml         â”‚
                        â”‚  team.json           â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  ğŸ” éªŒè¯æˆæƒæœåŠ¡è¿æ¥  â”‚
                        â”‚  CRS / CPA / S2A     â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                             â”‚                             â”‚
     â–¼                             â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ ¼å¼ 3    â”‚             â”‚   æ ¼å¼ 2    â”‚             â”‚   æ ¼å¼ 1    â”‚
â”‚ ä»…é‚®ç®±å¯†ç   â”‚             â”‚é‚®ç®±å¯†ç +Tokenâ”‚            â”‚ å®Œæ•´Session â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                           â”‚                           â”‚
       â–¼                           â”‚                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚                           â”‚
â”‚ ğŸ”‘ æµè§ˆå™¨   â”‚                    â”‚                           â”‚
â”‚ è‡ªåŠ¨ç™»å½•    â”‚                    â”‚                           â”‚
â”‚ è·å–Token   â”‚                    â”‚                           â”‚
â”‚ åŒæ—¶æˆæƒ    â”‚                    â”‚                           â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                    â”‚                           â”‚
       â”‚                           â”‚                           â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      ğŸ” éå†æ¯ä¸ª Team         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                       â”‚
        â”‚  ğŸ“§ Step 1: æ‰¹é‡åˆ›å»ºé‚®ç®±              â”‚
        â”‚     â””â”€ Cloud Mail / GPTMail API      â”‚
        â”‚                                       â”‚
        â”‚  ğŸ‘¥ Step 2: æ‰¹é‡é‚€è¯·åˆ° Team           â”‚
        â”‚     â””â”€ ChatGPT API é‚€è¯·æˆå‘˜          â”‚
        â”‚                                       â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  ğŸ” éå†æ¯ä¸ªé‚®ç®±è´¦å·             â”‚  â”‚
        â”‚  â”‚                                 â”‚  â”‚
        â”‚  â”‚  ğŸŒ Step 3: æµè§ˆå™¨è‡ªåŠ¨æ³¨å†Œ      â”‚  â”‚
        â”‚  â”‚     â””â”€ DrissionPage è‡ªåŠ¨åŒ–      â”‚  â”‚
        â”‚  â”‚     â””â”€ å¡«å†™ä¿¡æ¯ + é‚®ç®±éªŒè¯ç     â”‚  â”‚
        â”‚  â”‚                                 â”‚  â”‚
        â”‚  â”‚  ğŸ” Step 4: Codex æˆæƒ          â”‚  â”‚
        â”‚  â”‚     â””â”€ ç”Ÿæˆæˆæƒé“¾æ¥             â”‚  â”‚
        â”‚  â”‚     â””â”€ è‡ªåŠ¨ç™»å½•å®Œæˆæˆæƒ         â”‚  â”‚
        â”‚  â”‚                                 â”‚  â”‚
        â”‚  â”‚  ğŸ’¾ Step 5: æˆæƒæœåŠ¡å…¥åº“        â”‚  â”‚
        â”‚  â”‚     â””â”€ CRS: æ‰‹åŠ¨æ·»åŠ è´¦å·        â”‚  â”‚
        â”‚  â”‚     â””â”€ CPA: åå°è‡ªåŠ¨å¤„ç†        â”‚  â”‚
        â”‚  â”‚     â””â”€ S2A: OAuth è‡ªåŠ¨å…¥åº“      â”‚  â”‚
        â”‚  â”‚                                 â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                                       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  ğŸ‘‘ å¤„ç† Team Owner (å¯é€‰)            â”‚
        â”‚     â””â”€ include_team_owners = true    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   âœ… å®Œæˆ & æ‰“å°æ‘˜è¦   â”‚
                â”‚   ğŸ“Š ä¿å­˜ CSV è®°å½•     â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### çŠ¶æ€æµè½¬

è´¦å·åœ¨å¤„ç†è¿‡ç¨‹ä¸­ä¼šç»å†ä»¥ä¸‹çŠ¶æ€ï¼š

```
invited â†’ registered â†’ authorized â†’ completed
   â”‚          â”‚            â”‚
   â”‚          â”‚            â””â”€â†’ partial (å…¥åº“å¤±è´¥)
   â”‚          â”‚
   â”‚          â””â”€â†’ auth_failed (æˆæƒå¤±è´¥)
   â”‚
   â””â”€â†’ register_failed (æ³¨å†Œå¤±è´¥)
```

| çŠ¶æ€ | è¯´æ˜ | ä¸‹ä¸€æ­¥æ“ä½œ |
|:---:|------|------|
| `invited` | å·²é‚€è¯·åˆ° Team | ç­‰å¾…æ³¨å†Œ |
| `registered` | å·²å®Œæˆæ³¨å†Œ | ç­‰å¾…æˆæƒ |
| `authorized` | å·²å®Œæˆæˆæƒ | ç­‰å¾…å…¥åº“ |
| `completed` | å…¨éƒ¨å®Œæˆ | æ—  |
| `partial` | æˆæƒæˆåŠŸä½†å…¥åº“å¤±è´¥ | é‡è¯•å…¥åº“ |
| `auth_failed` | æˆæƒå¤±è´¥ | é‡è¯•æˆæƒ |
| `register_failed` | æ³¨å†Œå¤±è´¥ | é‡è¯•æ³¨å†Œ |
| `team_owner` | Team Owner (æ ¼å¼1) | OTP éªŒè¯ç ç™»å½•æˆæƒ |

> ğŸ’¡ ç¨‹åºæ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œä¸­æ–­åé‡æ–°è¿è¡Œä¼šè‡ªåŠ¨ä»æœªå®Œæˆçš„çŠ¶æ€ç»§ç»­å¤„ç†

### ä¸‰ç§æ ¼å¼çš„å¤„ç†å·®å¼‚

| é˜¶æ®µ | æ ¼å¼ 1 (å®Œæ•´Session) | æ ¼å¼ 2 (é‚®ç®±å¯†ç +Token) | æ ¼å¼ 3 (ä»…é‚®ç®±å¯†ç ) |
|:---:|:---:|:---:|:---:|
| **Token è·å–** | æ‰‹åŠ¨æä¾› accessToken | æ‰‹åŠ¨æä¾› token | è‡ªåŠ¨ç™»å½•è·å– |
| **Owner ç™»å½•æ–¹å¼** | OTP éªŒè¯ç  | å¯†ç ç™»å½• | å¯†ç ç™»å½• (ç™»å½•æ—¶åŒæ—¶æˆæƒ) |
| **Owner æˆæƒ** | éœ€è‡ªæœ‰åŸŸåé‚®ç®±æ”¶éªŒè¯ç  | å¯†ç ç™»å½•åæˆæƒ | ç™»å½•æ—¶å·²å®Œæˆ |
| **æˆå‘˜å¤„ç†** | æ­£å¸¸æµç¨‹ | æ­£å¸¸æµç¨‹ | æ­£å¸¸æµç¨‹ |

---

## ğŸ“Š è¾“å‡ºæ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `accounts.csv` | æ‰€æœ‰è´¦å·è®°å½• (é‚®ç®±ã€å¯†ç ã€Teamã€çŠ¶æ€ã€æˆæƒ ID) |
| `team_tracker.json` | æ¯ä¸ª Team çš„è´¦å·å¤„ç†çŠ¶æ€è¿½è¸ª |
| `domain_blacklist.json` | ä¸å¯ç”¨çš„é‚®ç®±åŸŸåé»‘åå• |

---

## ğŸ¤ ç›¸å…³é¡¹ç›®

### ğŸ“§ é‚®ç®±æœåŠ¡

| æœåŠ¡ | è¯´æ˜ | é…ç½® |
|------|------|------|
| [Cloud Mail](https://github.com/maillab/cloud-mail) | è‡ªå»ºé‚®ç®±ç³»ç»Ÿ | `email_provider = "cloudmail"` |
| [GPTMail](https://mail.chatgpt.org.uk) | ä¸´æ—¶é‚®ç®±æœåŠ¡ ([API æ–‡æ¡£](https://www.chatgpt.org.uk/2025/11/gptmailapiapi.html)) | `email_provider = "gptmail"` |

### ğŸ” æˆæƒæœåŠ¡

| æœåŠ¡ | è¯´æ˜ | é…ç½® |
|------|------|------|
| [Claude Relay Service](https://github.com/Wei-Shaw/claude-relay-service) | Token ç®¡ç†æœåŠ¡ | `auth_provider = "crs"` |
| [CLIProxyAPI](https://github.com/router-for-me/CLIProxyAPI) | Codex æˆæƒæœåŠ¡ | `auth_provider = "cpa"` |
| [Sub2API](https://github.com/Wei-Shaw/sub2api) | OAuth æˆæƒå…¥åº“ | `auth_provider = "s2a"` |

---

## âš ï¸ å…è´£å£°æ˜

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚ä½¿ç”¨è€…éœ€è‡ªè¡Œæ‰¿æ‹…ä½¿ç”¨é£é™©ï¼Œè¯·éµå®ˆç›¸å…³æœåŠ¡æ¡æ¬¾ã€‚

---

## ğŸ“„ License

[MIT](LICENSE)
